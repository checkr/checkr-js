var Checkr={rootUrl:"https://api.checkr.com",timeout:3e4,publishableKey:null,setPublishableKey:function(i){this.publishableKey=i},post:function(i,e,t){var s=new XMLHttpRequest,a=Checkr.rootUrl+i;s.open("POST",a,!0),s.setRequestHeader("Content-type","application/json"),s.setRequestHeader("Authorization","Basic "+btoa(Checkr.publishableKey)),s.onreadystatechange=function(){try{var i=JSON.parse(s.responseText)}catch(e){var i={text:s.responseText}}t(s.status,i)};var n=JSON.stringify(e);s.send(n)},isValidPublishableKey:function(){return this.publishableKey&&"string"==typeof this.publishableKey?/\s/g.test(this.publishableKey)?!1:!0:!1},candidate:{isSSNValid:function(i){return i?/^\d{3}-\d{2}-\d{4}$/.test(i):!1},isFirstNameValid:function(i){return i?/\w{2,}/.test(i):!1},isLastNameValid:function(i){return i?/\w{2,}/.test(i):!1},isPhoneValid:function(i){return i?10===i.match(/\d/g).length:!1},isEmailValid:function(i){return i?/^[^@<\s>]+@[^@<\s>]+$/.test(i):!1},isMiddleNameEmpty:function(i){return!i||!/\w{1,}/.test(i)},isMiddleNameValid:function(i,e){return e?this.isMiddleNameEmpty(i)===!0:this.isMiddleNameEmpty(i)===!1},validate:function(i){for(var e=["first_name","last_name","dob","ssn","email","phone"],t=[],s=0;s<e.length;s++){var a=e[s];i&&a in i&&i[a]||t.push(a+" is missing")}return this.isSSNValid(i.ssn)||t.push("invalid ssn"),this.isFirstNameValid(i.first_name)||t.push("invalid first name"),this.isLastNameValid(i.last_name)||t.push("invalid last name"),this.isPhoneValid(i.phone)||t.push("invalid phone"),this.isEmailValid(i.email)||t.push("invalid email"),this.isMiddleNameValid(i.middle_name,i.no_middle_name)||t.push("invalid middle name"),t},create:function(i,e){if(!i){var t="No data supplied";if(!e)throw t;return void e(400,{error:t})}var s=this.validate(i);s.length>0?e(400,{error:s.join(", ")}):Checkr.post("/js/candidates",i,e)}}};
