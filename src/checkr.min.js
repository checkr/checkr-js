var Checkr={rootUrl:"https://api.checkr.com",timeout:3e4,publishableKey:null,setPublishableKey:function(e){this.publishableKey=e},post:function(e,i,t){var s=new XMLHttpRequest,a=Checkr.rootUrl+e;s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("X-User-Agent","Checkr.2.0.0.js"),s.setRequestHeader("Authorization","Basic "+btoa(Checkr.publishableKey)),s.onreadystatechange=function(){try{var e=JSON.parse(s.responseText)}catch(i){var e={text:s.responseText}}t(s.status,e)};var n=JSON.stringify(i);s.send(n)},candidate:{isSSNValid:function(e){return e?/^\d{3}-\d{2}-\d{4}$/.test(e):!1},isFirstNameValid:function(e){return e?/\w{2,}/.test(e):!1},isLastNameValid:function(e){return e?/\w{2,}/.test(e):!1},isPhoneValid:function(e){return e?10===e.match(/\d/g).length:!1},isEmailValid:function(e){return e?/^[^@<\s>]+@[^@<\s>]+$/.test(e):!1},isMiddleNameEmpty:function(e){return!e||!/\w{1,}/.test(e)},isMiddleNameValid:function(e,i){return i?this.isMiddleNameEmpty(e)===!0:this.isMiddleNameEmpty(e)===!1},validate:function(e){for(var i=["first_name","last_name","dob","ssn","email","phone"],t=[],s=0;s<i.length;s++){var a=i[s];e&&a in e&&e[a]||t.push(a+" is missing")}return this.isSSNValid(e.ssn)||t.push("invalid ssn"),this.isFirstNameValid(e.first_name)||t.push("invalid first name"),this.isLastNameValid(e.last_name)||t.push("invalid last name"),this.isPhoneValid(e.phone)||t.push("invalid phone"),this.isEmailValid(e.email)||t.push("invalid email"),this.isMiddleNameValid(e.middle_name,e.no_middle_name)||t.push("invalid middle name"),t},create:function(e,i){if(!Checkr.publishableKey)throw new Error('No Publishable Key set. Use Checkr.setPublishableKey("YOUR_KEY_HERE").');if(!e){var t="No data supplied";if(!i)throw t;return void i(400,{error:t})}var s=this.validate(e);s.length>0?i(400,{error:s.join(", ")}):Checkr.post("/js/candidates",e,i)}}};
